<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold text-center mb-8">Bank Branch Locator</h1>

  <!-- Search and Filter Section -->
  <div class="flex flex-col md:flex-row gap-4 justify-between mb-6">
    <!-- Search Box -->
    <div class="form-control">
      <div class="input-group">
        <input 
          type="text" 
          placeholder="Search branches..." 
          class="input input-bordered w-full" 
          [(ngModel)]="searchTerm"
          (keyup.enter)="onSearch()"
        />
        <button class="btn btn-primary" (click)="onSearch()">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Items Per Page Selector -->
    <div class="form-control w-full md:w-auto">
      <label class="label">
        <span class="label-text">Items per page</span>
      </label>
      <select class="select select-bordered" [(ngModel)]="pageSize" (change)="onPageSizeChange()">
        <option *ngFor="let size of pageSizeOptions" [value]="size">{{ size }}</option>
      </select>
    </div>
  </div>

  <!-- Results Count -->
  <div class="mb-4">
    <p class="text-sm text-gray-600">
      Showing {{ branches.length }} of {{ totalItems }} branches
    </p>
  </div>

  <!-- Branches Table (visible on md screens and up) -->
  <div class="hidden md:block overflow-x-auto">
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th>District</th>
          <th>Bank</th>
          <th>Branch</th>
          <th>Address</th>
          <th>Service Hours</th>
          <th>Accessibility</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let branch of branches">
          <td>{{ branch.district }}</td>
          <td>{{ branch.bank_name }}</td>
          <td>{{ branch.branch_name }}</td>
          <td>{{ branch.address }}</td>
          <td [innerHTML]="formatServiceHours(branch.service_hours)"></td>
          <td>{{ branch['barrier-free_access'] }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Mobile Cards (visible on small screens only) -->
  <div class="grid grid-cols-1 gap-4 md:hidden">
    <div class="card bg-base-100 shadow-md" *ngFor="let branch of branches">
      <div class="card-body p-4">
        <h2 class="card-title text-lg">{{ branch.branch_name }}</h2>
        <p class="text-sm opacity-70">{{ branch.bank_name }}</p>
        <div class="divider my-2"></div>
        
        <div class="grid grid-cols-3 gap-2 text-sm">
          <span class="font-bold">District:</span>
          <span class="col-span-2">{{ branch.district }}</span>
          
          <span class="font-bold">Address:</span>
          <span class="col-span-2">{{ branch.address }}</span>
          
          <span class="font-bold">Hours:</span>
          <div class="col-span-2" [innerHTML]="formatServiceHours(branch.service_hours)"></div>
          
          <span class="font-bold">Access:</span>
          <span class="col-span-2">{{ branch['barrier-free_access'] }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div *ngIf="branches.length === 0" class="text-center py-8">
    <p class="text-lg text-gray-600">No branches found with your search criteria.</p>
  </div>

  <!-- Pagination -->
  <div class="flex justify-center mt-6" *ngIf="totalPages > 1">
    <div class="join">
      <button 
        class="join-item btn" 
        [class.btn-disabled]="currentPage === 1"
        (click)="previousPage()"
      >
        «
      </button>
      
      <button 
        *ngFor="let page of getPageNumbers()" 
        class="join-item btn" 
        [class.btn-active]="page === currentPage"
        (click)="changePage(page)"
      >
        {{ page }}
      </button>
      
      <button 
        class="join-item btn" 
        [class.btn-disabled]="currentPage === totalPages"
        (click)="nextPage()"
      >
        »
      </button>
    </div>
  </div>
</div>